{%
set classes = [
    'block',
    'block-' ~ configuration.provider|clean_class,
    'block-' ~ plugin_id|clean_class
]
%}
<div{{sttributes.addClass(classes)}}>
  {{ title_prefix }}
  {% if label %}
    <h2{{title_attributes }}>{{ label }}</h2>
  {% endif %}
  {{ title_suffix }}
  <div class="grid-row flex-row minh-card">
    {%  for data in content["#data"] %}
      {%  set hasPrecipitation = data.daytime.probabilityOfPrecipitation %}
      <div class="tablet:grid-col padding-4">
        <time class="display-block text-bold tablet:text-center font-heading-md" datetime="{{ data.daytime.startTime }}">
          {{ data.daytime.shortDayName }}
        </time>
        <div class="display-flex tablet:flex-column flex-justify flex-align-center tablet:minh-card">
          <div class="icon">
            {{ source(directory ~ "/assets/images/weather/icons/conditions/" ~ data.daytime.icon )}}
          </div>
          <div class="text-center">
            <p class="margin-0 conditions-narrative short {% if not hasPrecipitation %} margin-bottom-1em{% endif %}">
              {{ data.daytime.shortForecast }}
            </p>
            {%  if hasPrecipitation %}
              <span class="font-body-3xs text-gray-50 conditions__chance">
                {{ data.daytime.probabilityOfPrecipitation }}% chance
              </span>
            {%  endif %}
          </div>
          <div class="display-flex flex-row">
            <span class="font-body-xl">{{ data.daytime.temperature }}</span>
            <span class="font-body-3xs margin-top-05">&#x2109;</span>
            {# use HTML entity that reads "degree farenheit" to screen readers #}
          </div>
          <div class="display-flex flex-row">
            <span class="font-body-lg text-gray-50 position-relative">
              <div class="font-body-3xs position-absolute margin-left-neg-105">
                {{ source(directory ~ "/assets/images/weather/icons/overnight.svg" )}}
              </div>
              {{ data.overnight.temperature }}
            </span>
            <span class="font-body-3xs margin-top-05">&#x2109</span>
          </div>
        </div>
      </div>
    {%  endfor %}
  </div>
</div>
