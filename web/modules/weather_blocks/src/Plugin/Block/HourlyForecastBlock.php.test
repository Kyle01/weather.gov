<?php

namespace Drupal\weather_blocks\Plugin\Block;

include_once "HourlyForecastBlock.php";

use PHPUnit\Framework\TestCase;

/**
 * Tests for the HourlyForecast block.
 */
final class HourlyForecastBlockTest extends TestCase {
  /**
   * A ready-to-use hourly forecast block.
   *
   * @var hourlyForecastBlock
   */
  protected $hourlyForecastBlock;

  /**
   * Common setup for all component tests.
   *
   * Creates a mock of a weather data service and injects it into a new current
   * conditions block object.
   */
  protected function setUp() : void {
    $definition = [
      "provider" => "weather_blocks",
    ];

    $this->hourlyForecastBlock = new HourlyForecastBlock([], '', $definition);

  }

  /**
   * Test that the block returns hardcoded data for now.
   */
  public function testBuild() : void {
    $expected = [
      "#theme" => "weather_blocks_hourly_forecast",
      "#data" => ['max_items' => '4'],
    ];
    $actual = $this->hourlyForecastBlock->build();

    $this->assertEquals($expected, $actual);
  }

}
